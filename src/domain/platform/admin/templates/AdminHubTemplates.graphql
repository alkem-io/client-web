query AdminHubTemplates($hubId: UUID_NAMEID!) {
  hub(ID: $hubId) {
    id
    templates {
      id
      authorization {
        id
        myPrivileges
      }
      aspectTemplates {
        ...AdminAspectTemplate
      }
      canvasTemplates {
        ...AdminCanvasTemplate
      }
      lifecycleTemplates {
        ...AdminLifecycleTemplate
      }
    }
  }
}

fragment AdminLifecycleTemplate on LifecycleTemplate {
  id
  definition
  type
  info {
    ...TemplateInfo
  }
}

fragment AdminAspectTemplate on AspectTemplate {
  id
  defaultDescription
  type
  info {
    ...TemplateInfo
  }
}

fragment AdminCanvasTemplate on CanvasTemplate {
  id
  info {
    ...TemplateInfo
  }
}

fragment AdminCanvasTemplateValue on CanvasTemplate {
  id
  value
}

fragment TemplateInfo on TemplateInfo {
  id
  title
  description
  tagset {
    id
    tags
  }
  visual {
    ...VisualFull
  }
}

query HubTemplatesCanvasTemplateWithValue($hubId: UUID_NAMEID!, $canvasTemplateId: UUID!) {
  hub(ID: $hubId) {
    id
    templates {
      id
      canvasTemplate(ID: $canvasTemplateId) {
        ...AdminCanvasTemplateValue
      }
    }
  }
}
