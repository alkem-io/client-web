query AiPersona($id: UUID!) {
  virtualContributor(ID: $id) {
    id
    aiPersona {
      id
      prompt
      engine
      externalConfig {
        apiKey
        assistantId
        model
      }
      promptGraph {
        start
        end
        edges {
          from
          to
        }
        state {
          title
          type
          properties {
            description
            name
            type
            optional
            items {
              title
              type
              properties {
                name
                type
              }
            }
          }
        }
        nodes {
          input_variables
          name
          prompt
          system
          output {
            title
            type
            properties {
              description
              name
              type
              optional
            }
          }
        }
      }
    }
  }
}
query VirtualContributor($id: UUID!) {
  lookup {
    virtualContributor(ID: $id) {
      id
      authorization {
        id
        myPrivileges
      }
      platformSettings {
        promptGraphEditingEnabled
      }
      settings {
        privacy {
          knowledgeBaseContentVisible
        }
      }
      searchVisibility
      listedInStore
      status
      bodyOfKnowledgeID
      bodyOfKnowledgeType
      bodyOfKnowledgeDescription
      aiPersona {
        id
        engine
        prompt
      }
      profile {
        id
        displayName
        description
        tagline
        tagsets {
          ...TagsetDetails
        }
        url
        avatar: visual(type: AVATAR) {
          ...VisualModelFull
        }
        references {
          id
          name
          uri
          description
        }
      }
    }
  }
}

query VirtualContributorProfile($id: UUID!) {
  lookup {
    virtualContributor(ID: $id) {
      id
      profile {
        id
        displayName
        tagline
        tagsets {
          ...TagsetDetails
        }
        url
        avatar: visual(type: AVATAR) {
          ...VisualModel
        }
        references {
          id
          name
          uri
          description
        }
      }
    }
  }
}

query VirtualContributorProvider($id: UUID!) {
  lookup {
    virtualContributor(ID: $id) {
      id
      provider {
        id
        profile {
          id
          displayName
          url
          location {
            country
            city
          }
          avatar: visual(type: AVATAR) {
            ...VisualModel
          }
          tagsets {
            id
            tags
          }
        }
      }
    }
  }
}

query SpaceBodyOfKnowledgeAuthorizationPrivileges($spaceId: UUID!) {
  lookup {
    myPrivileges {
      space(ID: $spaceId)
    }
  }
}

query SpaceBodyOfKnowledgeAbout($spaceId: UUID!) {
  lookup {
    space(ID: $spaceId) {
      id
      about {
        ...SpaceAboutLight
      }
    }
  }
}
