query SpaceInfo($spaceId: UUID!) {
  lookup {
    space(ID: $spaceId) {
      ...SpaceInfo
    }
  }
}

query SpaceUrl($spaceId: UUID!) {
  lookup {
    space(ID: $spaceId) {
      id
      profile {
        id
        url
      }
    }
  }
}

query SpaceHost($spaceNameId: NameID!) {
  lookupByName {
    space(NAMEID: $spaceNameId) {
      id
      ...SpaceInfo
      provider {
        id
        nameID
        profile {
          id
          displayName
          avatar: visual(type: AVATAR) {
            id
            uri
          }
          location {
            id
            city
            country
          }
          tagsets {
            id
            tags
          }
        }
      }
    }
  }
}

query SpaceTemplatesManager($spaceId: UUID!) {
  lookup {
    space(ID: $spaceId) {
      id
      templatesManager {
        id
        templatesSet {
          id
          authorization {
            id
            myPrivileges
          }
        }
      }
    }
  }
}

fragment SpaceInfo on Space {
  ...SpaceDetails
  authorization {
    id
    myPrivileges
  }
  community {
    id
    authorization {
      id
      myPrivileges
    }
    roleSet {
      id
      myMembershipStatus
    }
  }
  context {
    id
    authorization {
      id
      myPrivileges
      type
    }
  }
  collaboration {
    id
    authorization {
      id
      myPrivileges
    }
    calloutsSet {
      id
    }
  }

  visibility
}
