query spaceApplicationsInvitations($spaceId: UUID_NAMEID!) {
  space(ID: $spaceId) {
    id
    community {
      id
      applications {
        ...AdminSpaceCommunityApplication
      }
      invitations {
        ...AdminSpaceCommunityInvitation
      }
      invitationsExternal {
        ...AdminSpaceCommunityInvitationExternal
      }
    }
  }
}

fragment AdminSpaceCommunityApplication on Application {
  id
  createdDate
  updatedDate
  lifecycle {
    id
    state
    nextEvents
  }
  user {
    ...AdminSpaceCommunityCandidateMember
  }
  questions {
    id
    name
    value
  }
}

fragment AdminSpaceCommunityInvitation on Invitation {
  id
  createdDate
  updatedDate
  lifecycle {
    id
    state
    nextEvents
  }
  user {
    ...AdminSpaceCommunityCandidateMember
  }
}

fragment AdminSpaceCommunityInvitationExternal on InvitationExternal {
  id
  createdDate
  email
}

fragment AdminSpaceCommunityCandidateMember on User {
  id
  nameID
  email
  profile {
    id
    displayName
    avatar: visual(type: AVATAR) {
      ...VisualUri
    }
    location {
      id
      city
      country
    }
  }
}
