query SpaceCommunityPage($spaceNameId: UUID_NAMEID!, $includeCommunity: Boolean!) {
  space(ID: $spaceNameId) {
    id
    authorization {
      id
      myPrivileges
    }
    profile {
      id
      url
    }
    account {
      id
      host {
        ...ContributorDetails
      }
    }
    community @include(if: $includeCommunity) {
      ...CommunityPageCommunity
    }
    collaboration {
      id
    }
  }
}

fragment CommunityPageCommunity on Community {
  id
  leadUsers: usersInRole(role: LEAD) {
    ...DashboardLeadUser
  }
  memberUsers {
    ...DashboardContributingUser
  }
  leadOrganizations: organizationsInRole(role: LEAD) {
    ...AssociatedOrganizationDetails
  }
  memberOrganizations: organizationsInRole(role: MEMBER) {
    ...DashboardContributingOrganization
  }
}
