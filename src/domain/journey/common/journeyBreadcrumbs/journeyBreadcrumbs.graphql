query JourneyBreadcrumbsSpace(
  $spaceNameId: NameID!
  $subspaceLevel1NameId: NameID = "00000000-0000-0000-0000-000000000000"
  $subspaceLevel2NameId: NameID = "00000000-0000-0000-0000-000000000000"
  $includeSubspaceLevel1: Boolean = false
  $includeSubspaceLevel2: Boolean = false
  $visualType: VisualType! = AVATAR
) {
  lookupByName {
    space(NAMEID: $spaceNameId) {
      id
      profile {
        ...JourneyBreadcrumbsProfile
      }
      subspaceByNameID(NAMEID: $subspaceLevel1NameId) @include(if: $includeSubspaceLevel1) {
        id
        profile {
          ...JourneyBreadcrumbsProfile
        }
        subspaceByNameID(NAMEID: $subspaceLevel2NameId) @include(if: $includeSubspaceLevel2) {
          id
          profile {
            ...JourneyBreadcrumbsProfile
          }
        }
      }
    }
  }
}

fragment JourneyBreadcrumbsProfile on Profile {
  id
  url
  displayName
  avatar: visual(type: $visualType) {
    id
    ...VisualUri
  }
}
