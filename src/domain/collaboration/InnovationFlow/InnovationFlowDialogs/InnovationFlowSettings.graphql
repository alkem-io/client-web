query InnovationFlowSettings($collaborationId: UUID!) {
  lookup {
    collaboration(ID: $collaborationId) {
      ...InnovationFlowCollaboration
      innovationFlow {
        ...InnovationFlowDetails
        settings{
          maximumNumberOfStates
          minimumNumberOfStates
        }
      }
    }
  }
}

query InnovationFlowDetails($collaborationId: UUID!) {
  lookup {
    collaboration(ID: $collaborationId) {
      id
      innovationFlow {
        ...InnovationFlowDetails
      }
    }
  }
}

mutation UpdateCalloutFlowState($calloutId: UUID!, $flowStateTagsetId: UUID!, $value: String!) {
  updateCallout(
    calloutData: { ID: $calloutId, classification: { tagsets: [{ ID: $flowStateTagsetId, tags: [$value] }] } }
  ) {
    id
    sortOrder
    classification {
      id
      flowState: tagset(tagsetName: FLOW_STATE) {
        ...TagsetDetails
      }
    }
  }
}

mutation UpdateCollaborationFromSpaceTemplate(
  $collaborationId: UUID!
  $spaceTemplateId: UUID!
  $addCallouts: Boolean
  $deleteExistingCallouts: Boolean
) {
  updateCollaborationFromSpaceTemplate(
    updateData: {
      collaborationID: $collaborationId
      spaceTemplateID: $spaceTemplateId
      addCallouts: $addCallouts
      deleteExistingCallouts: $deleteExistingCallouts
    }
  ) {
    id
    innovationFlow {
      id
      states {
        displayName
        description
      }
      currentState {
        displayName
        description
      }
    }
  }
}
