query NewVirtualContributorMySpaces {
  me {
    id
    user {
      id
      account {
        id
        host {
          id
        }
        spaces {
          id
          license {
            id
            availableEntitlements
          }
          authorization {
            id
            myPrivileges
          }
          ...VCSelectableSpace
          subspaces {
            ...VCSelectableSpace
            subspaces {
              ...VCSelectableSpace
            }
          }
        }
      }
    }
  }
}

query AccountSpaces($accountId: UUID!) {
  lookup {
    account(ID: $accountId) {
      id
      spaces {
        ...spaceProfileCommunityDetails
        subspaces {
          ...spaceProfileCommunityDetails
          subspaces {
            ...spaceProfileCommunityDetails
          }
        }
      }
    }
  }
}

fragment spaceProfileCommunityDetails on Space {
  id
  profile {
    id
    displayName
    url
  }
  community {
    id
    roleSet {
      id
    }
  }
}

fragment VCSelectableSpace on Space {
  id
  type
  profile {
    id
    displayName
    url
  }
  community {
    id
    roleSet {
      id
      authorization {
        id
        myPrivileges
      }
    }
  }
}
