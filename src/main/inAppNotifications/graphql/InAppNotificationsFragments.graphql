fragment InAppNotificationAllTypes on InAppNotification {
  id
  type
  category
  state
  triggeredAt
  triggeredBy {
    id
    profile {
      id
      displayName
      url
      visual(type: AVATAR) {
        ...VisualModel
      }
    }
  }
  payload {
    type
    ... on InAppNotificationPayloadSpaceCollaborationCallout {
      ...InAppNotificationPayloadSpaceCollaborationCallout
    }
    ... on InAppNotificationPayloadSpaceCommunityContributor {
      ...InAppNotificationSpaceCommunityContributor
    }
    ... on InAppNotificationPayloadPlatformUserMessageRoom {
      ...InAppNotificationUserMentioned
    }
  }
}

fragment InAppNotificationPayloadSpaceCollaborationCallout on InAppNotificationPayloadSpaceCollaborationCallout {
  callout {
    id
    framing {
      id
      profile {
        id
        displayName
        url
        visual(type: CARD) {
          ...VisualModel
        }
      }
    }
  }
  space {
    ...spaceNotification
  }
}


fragment InAppNotificationSpaceCommunityContributor on InAppNotificationPayloadSpaceCommunityContributor {
  space {
    ...spaceNotification
  }
  contributor {
    id
    __typename # do not remove
    profile {
      id
      displayName
      url
      visual(type: AVATAR) {
        ...VisualModel
      }
    }
  }
}

fragment spaceNotification on Space {
  id
  level
  about {
    id
    ...SpaceAboutCardBanner
  }
}

fragment InAppNotificationUserMentioned on InAppNotificationPayloadPlatformUserMessageRoom {
  roomID
  originalMessageID
}
