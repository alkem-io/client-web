query InAppNotifications($first: Int!, $after: UUID, $types: [NotificationEvent!]) {
  notificationsInApp(
    first: $first, after: $after, filter: { types: $types }
  ) {
    inAppNotifications {
      id
      type
      category
      state
      triggeredAt
      triggeredBy {
        id
        profile {
          id
          displayName
          url
          visual(type: AVATAR) {
            ...VisualModel
          }
        }
      }
      payload {
        type
        ... on InAppNotificationPayloadSpaceCollaborationCallout {
          ...InAppNotificationPayloadSpaceCollaborationCallout
        }
        ... on InAppNotificationPayloadSpaceCommunityContributor {
          ...InAppNotificationSpaceCommunityContributor
        }
        ... on InAppNotificationPayloadPlatformUserMessageRoom {
          ...InAppNotificationUserMentioned
        }
      }
    }
    pageInfo {
      startCursor
      endCursor
      hasNextPage
      hasPreviousPage
    }
  }
}

query InAppNotificationIds($types: [NotificationEvent!]) {
  notificationsInApp(
    first: 1000, filter: { types: $types }
  ) {
    inAppNotifications {
      id
      state
    }
  }
}

query InAppNotificationUnreadCount($types: [NotificationEvent!]) {
  notificationsInApp(
    first: 1000, filter: { types: $types }
  ) {
    inAppNotifications {
      id
      state
    }
  }
}

mutation UpdateNotificationState($ID: UUID!, $state: NotificationEventInAppState!) {
  updateNotificationState(notificationData: { ID: $ID, state: $state })
}

mutation MarkNotificationsAsRead($notificationIds: [String!]!) {
  markNotificationsAsRead(notificationIds: $notificationIds)
}
