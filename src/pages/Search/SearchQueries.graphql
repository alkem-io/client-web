query search($searchData: SearchInput!) {
  search(searchData: $searchData) {
    score
    terms
    result {
      ... on User {
        ...UserSearchResult
      }
      ... on Organization {
        ...OrganizationSearchResult
      }
      ... on Hub {
        ...HubSearchResult
      }
      ... on Challenge {
        ...ChallengeSearchResult
      }
      ... on Opportunity {
        ...OpportunitySearchResult
      }
    }
  }
}

fragment UserSearchResult on User {
  id
  nameID
  displayName
  profile {
    ...ProfileSearchResult
  }
}

fragment OrganizationSearchResult on Organization {
  id
  nameID
  displayName
  profile_: profile {
    ...ProfileSearchResult
  }
}

fragment ProfileSearchResult on Profile {
  id
  location {
    id
    country
    city
  }
  tagsets {
    id
    tags
  }
  avatar {
    ...VisualUri
  }
}

fragment HubSearchResult on Hub {
  id
  nameID
  displayName
  context {
    id
    tagline
    visuals {
      ...VisualUri
    }
  }
  tagset {
    id
    tags
  }
}

fragment ChallengeSearchResult on Challenge {
  id
  nameID
  displayName
  hubID
  context {
    id
    tagline
    visuals {
      ...VisualUri
    }
  }
  tagset {
    id
    tags
  }
}


fragment OpportunitySearchResult on Opportunity {
  id
  nameID
  displayName
  context {
    id
    tagline
    visuals {
      ...VisualUri
    }
  }
  tagset {
    id
    tags
  }
  challenge {
    id
    nameID
    displayName
    hubID
  }
}

query userRolesSearchCards($userId: UUID_NAMEID_EMAIL!) {
  rolesUser(rolesData: { userID: $userId }) {
    hubs {
      id
      roles
      challenges {
        id
        nameID
        roles
      }
      opportunities {
        id
        roles
      }
    }
    organizations {
      id
      roles
    }
  }
}