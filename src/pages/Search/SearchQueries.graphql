query search($searchData: SearchInput!) {
  search(searchData: $searchData) {
    id
    score
    terms
    type
    ... on SearchResultHub {
      ...SearchResultHub
    }
    ... on SearchResultChallenge {
      ...SearchResultChallenge
    }
    ... on SearchResultOpportunity {
      ...SearchResultOpportunity
    }
    ... on SearchResultUser {
      ...SearchResultUser
    }
    ... on SearchResultOrganization {
      ...SearchResultOrganization
    }
  }
}

fragment SearchResultUser on SearchResultUser {
  user {
    id
    nameID
    displayName
    profile {
      ...SearchResultProfile
    }
  }
}

fragment SearchResultOrganization on SearchResultOrganization {
  organization {
    id
    nameID
    displayName
    profile {
      ...SearchResultProfile
    }
  }
}

fragment SearchResultProfile on Profile {
  id
  location {
    id
    country
    city
  }
  tagsets {
    id
    tags
  }
  avatar {
    ...VisualUri
  }
}

fragment SearchResultHub on SearchResultHub {
  hub {
    id
    nameID
    displayName
    context {
      id
      tagline
      visuals {
        ...VisualUri
      }
    }
    tagset {
      id
      tags
    }
  }
}

fragment SearchResultChallenge on SearchResultChallenge {
  challenge {
    id
    nameID
    displayName
    hubID
    context {
      id
      tagline
      visuals {
        ...VisualUri
      }
    }
    tagset {
      id
      tags
    }
  }
  hub {
    id
    nameID
    displayName
  }
}

fragment SearchResultOpportunity on SearchResultOpportunity {
  opportunity {
    id
    nameID
    displayName
    context {
      id
      tagline
      visuals {
        ...VisualUri
      }
    }
    tagset {
      id
      tags
    }
    challenge {
      id
      nameID
      displayName
      hubID
    }
  }
  challenge {
    id
    nameID
    displayName
  }
  hub {
    id
    nameID
    displayName
  }
}

query userRolesSearchCards($userId: UUID_NAMEID_EMAIL!) {
  rolesUser(rolesData: { userID: $userId }) {
    hubs {
      id
      roles
      challenges {
        id
        nameID
        roles
      }
      opportunities {
        id
        roles
      }
    }
    organizations {
      id
      roles
    }
  }
}
